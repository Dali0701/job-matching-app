<div class="container mt-4">
  <h2>Candidate Management</h2>
  
  <div class="filter-container">
    <input type="text" class="form-control" placeholder="Search by name, email or phone" 
           [(ngModel)]="searchTerm" (input)="filterCandidates()">
    <input type="text" class="form-control" placeholder="Filter by skills" 
           [(ngModel)]="skillsFilter" (input)="filterCandidates()">
  </div>
  
  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead class="thead-dark">
        <tr>
          <th>Candidate</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Skills</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let candidate of filteredCandidates">
          <td>
            <div class="candidate-name">
              <div class="candidate-avatar">
                {{ candidate.firstName.charAt(0) }}{{ candidate.lastName.charAt(0) }}
              </div>
              <div>
                {{ candidate.firstName }} {{ candidate.lastName }}
                <small class="text-muted d-block">ID: {{ candidate.id }}</small>
              </div>
            </div>
          </td>
          <td>
            <div>{{ candidate.email }}</div>
          </td>
          <td>
            <div>{{ candidate.phone || 'No phone' }}</div>
          </td>
          <td>
            <div class="skills-container">
              <span *ngFor="let skill of getSkillsArray(candidate.skills)" class="badge">
                {{ skill }}
              </span>
              <span *ngIf="!candidate.skills" class="text-muted">No skills listed</span>
            </div>
          </td>
          <td>
            <button class="btn btn-sm btn-danger" (click)="deleteCandidate(candidate.id)">
              <i class="fas fa-trash"></i> Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="filteredCandidates.length === 0" class="alert alert-info">
    No candidates found matching your criteria.
  </div>
</div>