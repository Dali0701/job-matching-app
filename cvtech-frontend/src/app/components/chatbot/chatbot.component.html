<!-- chatbot.component.html -->
<div class="chatbot-container" [class.open]="isOpen">
  <div class="chatbot-header" (click)="toggleChatbot()">
    <div class="header-content">
      <div class="chatbot-avatar">
        <svg viewBox="0 0 24 24">
          <path fill="white" d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z"/>
          <path fill="white" d="M12.34,15.33c-0.36,0.36-0.86,0.58-1.41,0.58c-1.1,0-2-0.9-2-2c0-0.55,0.22-1.05,0.58-1.41l-1.5-1.5C7.63,11.78,7,13.16,7,14.5C7,16.43,8.57,18,10.5,18c1.34,0,2.72-0.63,3.5-1.5L12.34,15.33z"/>
          <path fill="white" d="M17,9.5c0,1.93-1.57,3.5-3.5,3.5c-1.34,0-2.72-0.63-3.5-1.5l1.5-1.5c0.36,0.36,0.86,0.58,1.41,0.58c1.1,0,2-0.9,2-2c0-0.55-0.22-1.05-0.58-1.41l1.5-1.5C16.37,7.22,17,8.6,17,9.5z"/>
        </svg>
      </div>
      <div class="header-text">
        <h3>CVTech Assistant</h3>
        <p class="status">{{isTyping ? 'Typing...' : 'Online'}}</p>
      </div>
    </div>
    <button class="toggle-btn">
      {{ isOpen ? 'âˆ’' : '+' }}
    </button>
  </div>
  
  <div class="chatbot-body" *ngIf="isOpen">
    <div class="messages">
      <div *ngFor="let message of messages" class="message" [class.user]="message.sender === 'user'">
        <div class="message-content">{{ message.text }}</div>
        <div class="message-time">{{ message.time | date:'shortTime' }}</div>
      </div>
      <div *ngIf="isTyping" class="typing-indicator">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
      </div>
    </div>
    
    <div class="input-area">
      <input type="text" [(ngModel)]="userMessage" placeholder="Ask about job matches..." 
             (keyup.enter)="sendMessage()" [disabled]="isTyping">
      <button (click)="sendMessage()" [disabled]="!userMessage.trim() || isTyping">
        <svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/>
        </svg>
      </button>
    </div>
  </div>
</div>