<div *ngFor="let job of jobs" class="job-card">
  <!-- Best Match badge -->
  <div *ngIf="job.matchScore !== undefined && job.matchScore >= 80" class="job-badge">Best Match</div>
  
  <div class="job-content">
    <div class="job-title-section">
      <h2>{{ job.title }}</h2>
      <div class="company-tag">
        <svg class="company-icon" viewBox="0 0 24 24">
          <path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"/>
        </svg>
        <span>{{ job.company }}</span>
      </div>
    </div>

    <!-- Match score display -->
    <div *ngIf="job.matchScore !== undefined" class="match-score" [ngClass]="getMatchColor(job.matchScore)">
      Match: {{ job.matchScore }}%
    </div>

    <div class="job-meta">
      <span class="job-location">
        <svg class="location-icon" viewBox="0 0 24 24">
          <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
        </svg>
        {{ job.location || 'Remote' }}
      </span>
      <span class="job-type">
        <svg class="type-icon" viewBox="0 0 24 24">
          <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z"/>
        </svg>
        {{ job.job_type || 'Full-time' }} <!-- Display job type with fallback -->
      </span>
    </div>

    <p class="job-description">
      {{ job.description }}
    </p>

    <div class="job-salary">
      <svg class="salary-icon" viewBox="0 0 24 24">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z"/>
      </svg>
      <strong>{{ job.salary_range || 'Salary not specified' }}</strong>
    </div>
  </div>

  <div class="job-actions">
    <button class="btn-details">View Details</button>
    <button class="btn-apply">Apply Now</button>
  </div>
</div>